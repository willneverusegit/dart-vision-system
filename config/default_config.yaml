# Dart Vision System Configuration

camera:
  index: 2
  width: 1280
  height: 720
  fps: 30

# ‚Üê NEU: Performance settings
performance:
  # ROI settings
  enable_roi: true
  roi_margin_px: 50  # Extra margin around board

  # Preprocessing
  enable_downscale: true
  target_width: 640  # Downscale to this width (null = no downscaling)

  # Frame rate control
  enable_fps_limit: false
  target_fps: 15  # Limit to this FPS (for battery saving)

  # Detection optimization
  detection_mode: "adaptive"  # "always", "motion_gated", "adaptive"

capture:
  queue_size: 3
  enable_preprocessing: true

roi:
  enable: true
  margin: 50

calibration:
  method: "manual"  # or "charuco"
  charuco:
    squares_x: 5
    squares_y: 7
    square_length: 40
    marker_length: 30

board_geometry:
  # All measurements in mm (official dartboard)
  inner_bull_radius: 6.35
  outer_bull_radius: 15.9
  triple_inner_radius: 99.0
  triple_outer_radius: 107.0
  double_inner_radius: 162.0
  double_outer_radius: 170.0
  sector_angle: 18.0

motion_detection:
  history: 500
  var_threshold: 24.0
  detect_shadows: false
  min_motion_area: 80
  enable_morphology: true
  morph_kernel_size: 3
  motion_threshold: 140

hit_detection:
  min_contour_area: 20
  max_contour_area: 200
  confirmation_frames: 3
  position_tolerance_px: 10.0
  confirmation_timeout_sec: 3.0

game:
  default_mode: "501"
  default_starting_score: 501
  double_out: true

visualization:
  show_overlay: true
  overlay_opacity: 0.3
  show_scores: true

logging:
  level: "INFO"
  format: "%(asctime)s - %(name)s - %(levelname)s - %(message)s"